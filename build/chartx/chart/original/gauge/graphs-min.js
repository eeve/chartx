define("chartx/chart/original/gauge/graphs",["canvax/index","canvax/shape/Sector","canvax/animation/Tween","chartx/utils/tools","canvax/shape/Circle","canvax/shape/BrokenLine","canvax/display/Text","canvax/animation/AnimationFrame"],function(a,b,c,d,e,f,g,h){var i=function(a,b){this.domRoot=b,this.w=0,this.h=0,this.maxR=0,this.dis={outAndIn:10,textAndIn:15},this.outSideRange={thickness:3,startAngle:165,endAngle:375,fillStyle:"#ffffff",duration:1200},this.outSide={thickness:3,startAngle:165,endAngle:375,fillStyle:"#1ba9e3",duration:600},this.inSide={totalAngle:0,thickness:10,startAngle:165,endAngle:375,fillStyle:"#ffffff",globalAlpha:.2,duration:600},this.describe={count:8},this.center={title:{content:0,context:{x:0,y:-20,fillStyle:"#ffffff",fontSize:30,fontWeight:"normal",fontFamily:"Tahoma"}},subtitle:{content:"",context:{x:0,y:20,fillStyle:"#ffffff",fontSize:13,fontWeight:"normal"}}},this.sprite=null,_.deepExtend(this,a),this.init()};return i.prototype={init:function(b){_.deepExtend(this,b),this.sprite=new a.Display.Sprite({id:"graphsEl"})},setX:function(a){this.sprite.context.x=a},setY:function(a){this.sprite.context.y=a},draw:function(a){var b=this;_.deepExtend(b,a),b._drawRing({onInSideComplete:function(){b._drawDescribe()}}),b.sprite.context.x=b.pos.x,b.sprite.context.y=b.pos.y},updateTitle:function(a){var b=this,c=b.sprite.getChildById("center"),e=c.getChildAt(0),f=a.title||0;h.registTween({from:{num:e.text},to:{num:f},onUpdate:function(){e.resetText(d.numAddSymbol(parseInt(this.num)))}})},updateRange:function(a){var b=this,c=b.sprite.getChildById("center"),d=c.getChildAt(1),e=a.subtitle||"";d.resetText(e)},_drawRing:function(b){var c=this;c.maxR=Math.min(c.pos.y,parseInt(c.w/2));var d=new a.Display.Sprite({id:"rings"}),e=new a.Display.Sprite({id:"inSide"});d.addChild(e),c.inSide.r=c.maxR-c.dis.outAndIn,c.inSide.r0=c.maxR-c.dis.outAndIn-c.inSide.thickness;var f=c._add({config:{r:c.inSide.r,r0:c.inSide.r0,startAngle:c.inSide.startAngle,endAngle:c.inSide.startAngle,fillStyle:c.inSide.fillStyle,globalAlpha:c.inSide.globalAlpha},sprite:e});h.registTween({from:{num:c.inSide.startAngle},to:{num:c.inSide.endAngle},onUpdate:function(){f.context.endAngle=this.num},onComplete:function(){_.isFunction(b.onInSideComplete)&&b.onInSideComplete()},duration:c.inSide.duration});var e=new a.Display.Sprite({id:"outSide"});d.addChild(e);var g=c._add({config:{r:c.maxR,r0:c.maxR-c.outSide.thickness,startAngle:c.outSide.startAngle,endAngle:c.outSide.startAngle,fillStyle:c.outSide.fillStyle},sprite:e});h.registTween({from:{num:c.outSide.startAngle},to:{num:c.outSide.endAngle},onUpdate:function(){g.context.endAngle=this.num},duration:c.outSide.duration});var e=new a.Display.Sprite({id:"outSideRange"});d.addChild(e);var i=c._add({config:{r:c.maxR,r0:c.maxR-c.outSideRange.thickness,startAngle:c.outSideRange.startAngle,endAngle:c.outSideRange.startAngle,fillStyle:c.outSideRange.fillStyle},sprite:e});h.registTween({from:{num:c.outSideRange.startAngle},to:{num:c.outSideRange.endAngle},onUpdate:function(){i.context.endAngle=this.num},onComplete:function(){},duration:c.outSideRange.duration}),c.sprite.addChild(d)},_drawDescribe:function(){for(var b=this,c=new a.Display.Sprite({id:"describe"}),d=new a.Display.Sprite({id:"lines"}),e=new a.Display.Sprite({id:"txts"}),h=b.inSide.startAngle,i=b.inSide.endAngle>360?b.inSide.endAngle-360:b.inSide.endAngle,j=360-h+i,k=0,l=b.describe.count;l>k;k++){var m=_.isFunction(b.describe.format)?b.describe.format(k):null;if(m){var n=_.isNumber(m.scale)?m.scale:k/describe_data.length,o=n*j+h;if(m.line&&m.line.enabled){var p=b._getRPoint(0,0,b.inSide.r,b.inSide.r,o),q=b._getRPoint(0,0,b.inSide.r0,b.inSide.r0,o),r=new f({id:"brokenline",context:{pointList:[[p.x,p.y],[q.x,q.y]],strokeStyle:m.line.strokeStyle||"#ffffff",lineWidth:m.line.lineWidth||2,globalAlpha:0}});d.addChild(r),r.animate({globalAlpha:1},{duration:200*k})}var s=b.inSide.r0-b.dis.textAndIn,t=b._getRPoint(0,0,s,s,o),u=new g(m.content,{context:{x:t.x,y:t.y,fillStyle:m.context.fillStyle||"#ff0000",fontSize:m.context.fontSize||10,rotation:o+90,textAlign:"center",textBaseline:"middle",globalAlpha:0}});e.addChild(u),u.animate({globalAlpha:1},{duration:200*k})}}c.addChild(d),c.addChild(e),b.sprite.addChild(c)},_drawTitle:function(){var b=this,c=new a.Display.Sprite({id:"center"}),d=b.center.title,e=new g(d.content,{context:{x:d.context.x||0,y:d.context.y||0,fillStyle:d.context.fillStyle||"#ff0000",fontSize:d.context.fontSize||12,fontWeight:d.context.fontWeight||"normal",fontFamily:d.context.fontFamily||"Tahoma",textAlign:"center",textBaseline:"middle"}});c.addChild(e);var d=b.center.subtitle,f=new g(d.content,{context:{x:d.context.x||0,y:d.context.y||0,fillStyle:d.context.fillStyle||"#ff0000",fontSize:d.context.fontSize||12,fontWeight:d.context.fontWeight||"normal",fontFamily:d.context.fontFamily||"微软雅黑",textAlign:"center",textBaseline:"middle"}});c.addChild(f),b.sprite.addChild(c)},_getRPoint:function(a,b,c,d,e){return e=e*Math.PI/180,{x:Math.cos(e)*c+a,y:Math.sin(e)*d+b}},_test:function(a){var b=new e({id:"circle",context:{x:a.x||0,y:a.y||0,r:2,fillStyle:a.fillStyle||"#ff0000"}});return b},_grow:function(){},_add:function(a){var c=a.sprite,d=a.config,e=new b({context:{x:d.x||0,y:d.y||0,r:d.r||100,r0:_.isNumber(d.r0)?d.r0:100,startAngle:_.isNumber(d.startAngle)?d.startAngle:180,endAngle:_.isNumber(d.endAngle)?d.endAngle:360,fillStyle:d.fillStyle||"#ff0000",strokeStyle:d.strokeStyle||"#000000",lineWidth:d.lineWidth||0,globalAlpha:d.globalAlpha||1}});return c.addChild(e),e}},i});