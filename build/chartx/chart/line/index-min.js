define("chartx/chart/line/tips",["canvax/index","canvax/shape/Line","canvax/shape/Circle","chartx/components/tips/tip"],function(a,b,c,d){var e=function(a,b,c){this.line={enabled:1},this.node={},this.sprite=null,this._line=null,this._nodes=null,this._tip=null,this._isShow=!1,this.enabled=!0,this.init(a,b,c)};return e.prototype={init:function(b,c,e){_.deepExtend(this,b),this.sprite=new a.Display.Sprite({id:"tips"}),this._tip=new d(b,e)},show:function(a,b){this.enabled&&(b||(b={}),b=_.extend(this._getTipsPoint(a),b),this._initLine(a,b),this._initNodes(a,b),this.sprite.addChild(this._tip.sprite),this._tip.show(a,b),this._isShow=!0)},move:function(a){this.enabled&&(this._resetStatus(a),this._tip.move(a))},hide:function(a){this.enabled&&(this.sprite.removeAllChildren(),this._line=null,this._nodes=null,this._tip.hide(a),this._isShow=!1)},_getTipsPoint:function(a){return a.target.localToGlobal(a.eventInfo.nodesInfoList[a.eventInfo.iGroup])},_resetStatus:function(a){var b=this._getTipsPoint(a);this._line&&(this._line.context.x=parseInt(b.x)),this._resetNodesStatus(a,b)},_initLine:function(a,c){var d=_.deepExtend({x:parseInt(c.x),y:c.lineTop||a.target.localToGlobal().y,xStart:0,yStart:c.lineH||a.target.context.height,xEnd:0,yEnd:0,lineWidth:1,strokeStyle:this.line.strokeStyle||"#cccccc"},this.line);this.line.enabled&&(this._line=new b({id:"tipsLine",context:d}),this.sprite.addChild(this._line))},_initNodes:function(b,d){this._nodes=new a.Display.Sprite({id:"line-tipsNodes",context:{x:parseInt(d.x),y:b.target.localToGlobal().y}});var e=this;_.each(b.eventInfo.nodesInfoList,function(d){var f=new a.Display.Sprite({context:{y:b.target.context.height-Math.abs(d.y)}});f.addChild(new c({context:{r:d.r+2+1,fillStyle:e.node.backFillStyle||"white",strokeStyle:e.node.strokeStyle||d.strokeStyle,lineWidth:d.lineWidth}})),f.addChild(new c({context:{r:d.r+1,fillStyle:e.node.fillStyle||d.strokeStyle}})),e._nodes.addChild(f)}),this.sprite.addChild(this._nodes)},_resetNodesStatus:function(a,b){var c=this;this._nodes.children.length!=a.eventInfo.nodesInfoList.length&&(this._nodes.removeAllChildren(),this._initNodes(a,b)),this._nodes.context.x=parseInt(b.x),_.each(a.eventInfo.nodesInfoList,function(b,d){var e=c._nodes.getChildAt(d).context;e.y=a.target.context.height-Math.abs(b.y)})}},e}),define("chartx/chart/line/xaxis",["chartx/components/xaxis/xAxis"],function(a){var b=function(a,c){b.superclass.constructor.apply(this,arguments)};return Chartx.extend(b,a,{_trimXAxis:function(a,b){var c=a.length,d=[];if(1==c)d.push({content:a[0],x:parseInt(b/2)});else for(var e=0,f=a.length;f>e;e++){var g={content:a[e],x:parseInt(e/(c-1)*b)};d.push(g)}return d}}),b}),define("chartx/chart/line/group",["canvax/index","canvax/shape/BrokenLine","canvax/shape/Circle","canvax/shape/Path","chartx/utils/tools","chartx/utils/colorformat","canvax/animation/Tween","chartx/chart/theme","canvax/animation/AnimationFrame"],function(a,b,c,d,e,f,g,h,i){window.Canvax=a;var j=function(a,b,c,d,e,f,g,i){this.field=a,this._groupInd=b,this._nodeInd=-1,this._yAxis=f,this.sort=e,this.ctx=d,this.w=i,this.h=g,this.y=0,this.animation=!0,this.colors=h.colors,this.line={enabled:1,strokeStyle:this.colors[this._groupInd],lineWidth:2,lineType:"solid",smooth:!0},this.node={enabled:1,corner:!1,r:2,fillStyle:"#ffffff",strokeStyle:null,lineWidth:3},this.fill={fillStyle:null,alpha:.05},this.dataOrg=[],this.data=[],this.sprite=null,this._pointList=[],this._currPointList=[],this._bline=null,this.init(c)};return j.prototype={init:function(b){_.deepExtend(this,b),!this.node.strokeStyle&&(this.node.strokeStyle=this._getLineStrokeStyle()),!this.fill.fillStyle&&(this.fill.fillStyle=this._getLineStrokeStyle()),this.sprite=new a.Display.Sprite},draw:function(a){_.deepExtend(this,a),this._widget()},update:function(a){_.deepExtend(this,a),this._pointList=this._getPointList(this.data),this._grow()},destroy:function(){this.sprite.remove()},_getColor:function(a){var b=this._getProp(a);return b&&""!=b||(b=this.colors[this._groupInd]),b},_getProp:function(a){return _.isArray(a)?a[this._groupInd]:_.isFunction(a)?a({iGroup:this._groupInd,iNode:this._nodeInd,field:this.field}):a},_getLineStrokeStyle:function(){return this.__lineStyleStyle?this.__lineStyleStyle:(this.__lineStyleStyle=this._getColor(this.line.strokeStyle),this.__lineStyleStyle)},getNodeInfoAt:function(a){var b=this;b._nodeInd=a;var c=_.clone(b.dataOrg[a]);return c&&null!=c.value&&void 0!=c.value&&""!==c.value?(c.r=b._getProp(b.node.r),c.fillStyle=b._getProp(b.node.fillStyle)||"#ffffff",c.strokeStyle=b._getProp(b.node.strokeStyle)||b._getLineStrokeStyle(),c.color=b._getProp(b.node.strokeStyle)||b._getLineStrokeStyle(),c.lineWidth=b._getProp(b.node.lineWidth)||2,c.alpha=b._getProp(b.fill.alpha),c.field=b.field,c._groupInd=b._groupInd,c):null},resetData:function(a){var b=this;b._pointList=this._getPointList(a.data);var c=b._pointList.length,d=b._currPointList.length;if(d>c){for(var e=c,f=d;f>e;e++)b._circles.removeChildAt(e),f--,e--;b._currPointList.length=c}if(c>d){diffLen=c-d;for(var e=0;e<diffLen;e++)b._currPointList.push(_.clone(b._currPointList[d-1]))}b._circles&&b._circles.removeAllChildren(),b._createNodes(),b._grow()},_grow:function(a){var b=this;b.animation||a&&a(b),0!=b._currPointList.length&&i.registTween({from:b._getPointPosStr(b._currPointList),to:b._getPointPosStr(b._pointList),onUpdate:function(){for(var a in this){var c=parseInt(a.split("_")[2]),d=parseInt(a.split("_")[1]);b._currPointList[c]&&(b._currPointList[c][d]=this[a])}b._bline.context.pointList=_.clone(b._currPointList),b._fill.context.path=b._fillLine(b._bline),b._fill.context.fillStyle=b._getFillStyle(),b._circles&&_.each(b._circles.children,function(a,c){var d=parseInt(a.id.split("_")[1]);a.context.y=b._currPointList[d][1],a.context.x=b._currPointList[d][0]})},onComplete:function(){a&&a(b)}})},_getPointPosStr:function(a){var b={};return _.each(a,function(a,c){b["p_1_"+c]=a[1],b["p_0_"+c]=a[0]}),b},_isNotNum:function(a){return isNaN(a)||null===a||""===a},_filterEmptyValue:function(a){for(var b=0,c=a.length;c>b&&this._isNotNum(a[b].value);b++)a.shift(),c--,b--;for(var b=a.length-1;b>0&&this._isNotNum(a[b].value);b--)a.pop()},_getPointList:function(a){var b=this;b.dataOrg=_.clone(a),b._filterEmptyValue(a);for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];c.push([f.x,f.y])}return c},_widget:function(){var a=this;if(a._pointList=this._getPointList(a.data),0!=a._pointList.length){var c=[];if(a.animation)for(var e=0,f=a.data.length;f>e;e++){var g=a.data[e],h=0;"right"==a._yAxis.place&&(h=f-1),c.push([g.x,a.data[h].y])}else c=a._pointList;a._currPointList=c;var i=new b({id:"brokenline_"+a._groupInd,context:{pointList:c,strokeStyle:a._getLineStrokeStyle(),lineWidth:a.line.lineWidth,y:a.y,smooth:a.line.smooth,lineType:a._getProp(a.line.lineType),smoothFilter:function(a){a[1]>0&&(a[1]=0)}}});this.line.enabled||(i.context.visible=!1),a.sprite.addChild(i),a._bline=i;var j=new d({context:{path:a._fillLine(i),fillStyle:a._getFillStyle(),globalAlpha:_.isArray(a.fill.alpha)?1:a.fill.alpha}});a.sprite.addChild(j),a._fill=j,a._createNodes()}},_getFillStyle:function(){var a=this,b=null;if(_.isArray(a.fill.alpha)){a.fill.alpha.length=2,void 0==a.fill.alpha[0]&&(a.fill.alpha[0]=0),void 0==a.fill.alpha[1]&&(a.fill.alpha[1]=0);var c=_.min(a._bline.context.pointList,function(a){return a[1]});b=a.ctx.createLinearGradient(c[0],c[1],c[0],0);var d=f.colorRgb(a._getColor(a.fill.fillStyle)),e=d.replace(")",", "+a._getProp(a.fill.alpha[0])+")").replace("RGB","RGBA");b.addColorStop(0,e);var g=d.replace(")",", "+a.fill.alpha[1]+")").replace("RGB","RGBA");b.addColorStop(1,g)}return b||a._getColor(a.fill.fillStyle)},_createNodes:function(){var b=this,d=b._currPointList;if((b.node.enabled||1==d.length)&&b.line.lineWidth){this._circles=new a.Display.Sprite({id:"circles"}),this.sprite.addChild(this._circles);for(var e=0,f=d.length;f>e;e++){b._nodeInd=e;var g=b._getProp(b.node.strokeStyle)||b._getLineStrokeStyle(),h={x:b._currPointList[e][0],y:b._currPointList[e][1],r:b._getProp(b.node.r),fillStyle:1==d.length?g:b._getProp(b.node.fillStyle)||"#ffffff",strokeStyle:g,lineWidth:b._getProp(b.node.lineWidth)||2},i=0;"right"==b._yAxis.place&&(i=f-1),e==i&&(h.fillStyle=h.strokeStyle,h.r++);var j=new c({id:"circle_"+e,context:h});if(b.node.corner){var k=b._pointList[e][1],l=b._pointList[e-1],m=b._pointList[e+1];l&&m&&k==l[1]&&k==m[1]&&(j.context.visible=!1)}b._circles.addChild(j)}b._nodeInd=-1}},_fillLine:function(a){var b=_.clone(a.context.pointList),c=0;return"desc"==this.sort&&(c=-this.h),b.push([b[b.length-1][0],c],[b[0][0],c],[b[0][0],b[0][1]]),e.getPath(b)}},j}),define("chartx/chart/line/graphs",["canvax/index","canvax/shape/Rect","chartx/utils/tools","chartx/chart/line/group"],function(a,b,c,d){var e=function(a,b){this.w=0,this.h=0,this.y=0,this.opt=a,this.root=b,this.ctx=b.stage.context2D,this.field=null,this._yAxisFieldsMap={},this._setyAxisFieldsMap(),this.data=[],this.disX=0,this.groups=[],this.iGroup=0,this.iNode=-1,this.sprite=null,this.induce=null,this.eventEnabled=a.eventEnabled||!0,this.init(a)};return e.prototype={init:function(b){this.opt=b,this.sprite=new a.Display.Sprite},setX:function(a){this.sprite.context.x=a},setY:function(a){this.sprite.context.y=a},getX:function(){return this.sprite.context.x},getY:function(){return this.sprite.context.y},draw:function(a){_.deepExtend(this,a),this._widget(a)},resetData:function(a,b){var c=this;c.data=a,b&&_.deepExtend(c,b);for(var d=0,e=c.data.length;e>d;d++){var f=c.groups[d];f.resetData({data:c.data[d]})}},grow:function(a){_.each(this.groups,function(b,c){b._grow(a)})},_setyAxisFieldsMap:function(){var a=this;_.each(_.flatten(this._getYaxisField()),function(b,c){a._yAxisFieldsMap[b]={ind:c}})},_getYaxisField:function(a){return this.field?this.field:(this.root.type&&this.root.type.indexOf("line")>=0?this.field=this.root._lineChart.dataFrame.yAxis.field:this.field=this.root.dataFrame.yAxis.field,this.field)},add:function(a,b){var c=this;_.deepExtend(this,a);var e=new d(b,c._yAxisFieldsMap[b]._groupInd,c.opt,c.ctx,c._yAxisFieldsMap[b]._sort,c._yAxisFieldsMap[b]._yAxis,c.h,c.w),f=_.indexOf(c.field,b);e.draw({data:c.data[f]}),c.sprite.addChildAt(e.sprite,f),c.groups.splice(f,0,e),_.each(this.groups,function(a,b){a._groupInd=b,a.update({data:c.data[b]})})},remove:function(a){var b=this.groups.splice(a,1)[0];b.destroy()},update:function(a){_.deepExtend(this,a);var b=this;_.each(this.groups,function(a,c){a.update({data:b.data[c]})})},_setGroupsForYfield:function(a,b,c){for(var e=this,f=0,g=a.length;g>f;f++){var h=e.root._yAxis.sort,i=e.root.biaxial,j=e.root._yAxis,k=c||0===c?c:f;if(_.isArray(a[f]))e._setGroupsForYfield(a[f],b[f],f);else{_.isArray(h)&&(h=h[k]||"asc"),i&&k>0&&(j=e.root._yAxisR);var l=e._yAxisFieldsMap[a[f]];l._yAxis=j,l._sort=h,l._groupInd=k;var m=new d(a[f],k,e.opt,e.ctx,h,j,e.h,e.w);m.draw({data:b[f]}),e.sprite.addChild(m.sprite),e.groups.push(m)}}},_widget:function(a){var c=this;c.eventEnabled&&(c._setGroupsForYfield(c._getYaxisField(),c.data),c.induce=new b({id:"induce",context:{y:-c.h,width:c.w,height:c.h,fillStyle:"#000000",globalAlpha:0,cursor:"pointer"}}),c.sprite.addChild(c.induce),c.induce.on("panstart mouseover",function(a){a.eventInfo=c._getInfoHandler(a)}),c.induce.on("panmove mousemove",function(a){a.eventInfo=c._getInfoHandler(a)}),c.induce.on("panend mouseout",function(a){a.eventInfo=c._getInfoHandler(a),c.iGroup=0,c.iNode=-1}),c.induce.on("tap click",function(a){a.eventInfo=c._getInfoHandler(a)}))},_getInfoHandler:function(a){var b=a.point.x,d=a.point.y-this.h;b=b>this.w?this.w:b;for(var e=0==this.disX?0:parseInt((b+this.disX/2)/this.disX),f=[],g=0,h=this.groups.length;h>g;g++){var i=this.groups[g].getNodeInfoAt(e);i&&f.push(i)}var j=c.getDisMinATArr(d,_.pluck(f,"y"));this.iGroup=j,this.iNode=e;var k={iGroup:this.iGroup,iNode:this.iNode,nodesInfoList:_.clone(f)};return k}},e}),define("chartx/chart/line/index",["chartx/chart/index","chartx/utils/tools","chartx/utils/datasection","chartx/chart/line/xaxis","chartx/components/yaxis/yAxis","chartx/components/back/Back","chartx/components/anchor/Anchor","chartx/chart/line/graphs","chartx/chart/line/tips","chartx/utils/dataformat","chartx/components/datazoom/index"],function(a,b,c,d,e,f,g,h,i,j,k){var l=a.Canvax,m=a.extend({init:function(a,b,c){this._node=a,this._data=b,this._opts=c,c.dataZoom&&(this.padding.bottom+=46,this.dataZoom={start:0,end:b.length-2}),this._xAxis=null,this._yAxis=null,this._anchor=null,this._back=null,this._graphs=null,this._tip=null,this.xAxis={},this.yAxis={},this.graphs={},this.biaxial=!1,this._lineField=null,_.deepExtend(this,c),this.dataFrame=this._initData(b,this)},draw:function(){this.stageTip=new l.Display.Sprite({id:"tip"}),this.core=new l.Display.Sprite({id:"core"}),this.stageBg=new l.Display.Sprite({id:"bg"}),this.stage.addChild(this.stageBg),this.stage.addChild(this.core),this.stage.addChild(this.stageTip),this.rotate&&this._rotate(this.rotate),this._initModule(),this._startDraw(),this._endDraw(),this.inited=!0},resetData:function(a){this.dataFrame=this._initData(a,this),this._xAxis.resetData(this.dataFrame.xAxis),this._yAxis.resetData(this.dataFrame.yAxis),this._graphs.resetData(this._trimGraphs(),{disX:this._getGraphsDisX()})},add:function(a){var b=0,c=this;_.each(_.flatten(this.yAxis.field),function(d,e){c._graphs._yAxisFieldsMap[d].ind<c._graphs._yAxisFieldsMap[a].ind&&b++}),this.yAxis.field.splice(b,0,a),this.dataFrame=this._initData(this.dataFrame.org,this),this._yAxis.update(this.yAxis,this.dataFrame.yAxis),this._back.update({xAxis:{data:this._yAxis.layoutData}}),this._graphs.add({data:this._trimGraphs()},a)},remove:function(a){var b=null;b=_.isNumber(a)?a:_.indexOf(this.yAxis.field,a),null!=b&&void 0!=b&&-1!=b&&this._remove(b)},_remove:function(a){this.dataFrame.yAxis.field.splice(a,1),this.dataFrame.yAxis.org.splice(a,1),this._yAxis.update(this.yAxis,this.dataFrame.yAxis),this._back.update({xAxis:{data:this._yAxis.layoutData}}),this._graphs.remove(a),this._graphs.update({data:this._trimGraphs()})},_initData:function(a,b){var c,d=this.dataZoom||b&&b.dataZoom;if(d){var e=[a[0]];e=e.concat(a.slice(d.start+1,d.end+1)),c=j.apply(this,[e,b])}else c=j.apply(this,arguments);return c},_initModule:function(){this._xAxis=new d(this.xAxis,this.dataFrame.xAxis),this.biaxial&&(this.yAxis.biaxial=!0),this._yAxis=new e(this.yAxis,this.dataFrame.yAxis),this.biaxial&&(this._yAxisR=new e(_.extend(_.clone(this.yAxis),{place:"right"}),this.dataFrame.yAxis)),this._back=new f(this.back),this._anchor=new g(this.anchor),this._graphs=new h(this.graphs,this),this._tip=new i(this.tips,this.dataFrame,this.canvax.getDomContainer())},_startDraw:function(a){var b=(a&&a.w||this.width,a&&a.h||this.height),c=this.height-this._xAxis.h,d=c-this.padding.top-this.padding.bottom;this._yAxis.draw({pos:{x:this.padding.left,y:c-this.padding.bottom},yMaxHeight:d});var e=this._yAxis.w,f=0;this._yAxisR&&(this._yAxisR.draw({pos:{x:0,y:c-this.padding.bottom},yMaxHeight:d}),f=this._yAxisR.w,this._yAxisR.setX(this.width-f-this.padding.right+1)),this._xAxis.draw({graphh:b-this.padding.bottom,graphw:this.width-f-this.padding.right,yAxisW:e}),this._xAxis.yAxisW!=e&&(this._yAxis.resetWidth(this._xAxis.yAxisW),e=this._xAxis.yAxisW);var g=this._yAxis.yGraphsHeight;this._back.draw({w:this._xAxis.xGraphsWidth,h:g,xAxis:{data:this._yAxis.layoutData},yAxis:{data:this._xAxis.layoutData},yOrigin:{biaxial:this.biaxial},pos:{x:e,y:c-this.padding.bottom}}),this._graphs.draw({w:this._xAxis.xGraphsWidth,h:this._yAxis.yGraphsHeight,data:this._trimGraphs(),disX:this._getGraphsDisX(),smooth:this.smooth,inited:this.inited}),this._graphs.setX(e),this._graphs.setY(c-this.padding.bottom);var h=this;if(this.inited||this._graphs.grow(function(a){h._initPlugs(h._opts,a)}),this.bindEvent(this._graphs.sprite),this._anchor.enabled){var i=this._getPosAtGraphs(this._anchor.xIndex,this._anchor.num);this._anchor.draw({w:this._xAxis.xGraphsWidth,h:g,cross:{x:i.x,y:g+i.y},pos:{x:e,y:c-g}})}this.dataZoom&&this._initDataZoom()},_endDraw:function(){this.stageBg.addChild(this._back.sprite),this.stageBg.addChild(this._anchor.sprite),this.core.addChild(this._xAxis.sprite),this.core.addChild(this._yAxis.sprite),this._yAxisR&&this.core.addChild(this._yAxisR.sprite),this.core.addChild(this._graphs.sprite),this.stageTip.addChild(this._tip.sprite)},_initPlugs:function(a,b){a.markLine&&this._initMarkLine(b),a.markPoint&&this._initMarkPoint(b)},_initDataZoom:function(a){var b=this,c=_.deepExtend({w:b._xAxis.xGraphsWidth,pos:{x:b._xAxis.pos.x,y:b._xAxis.pos.y+b._xAxis.h}},b.dataZoom),d=b.el.cloneNode();d.innerHTML="",d.id=b.el.id+"_currclone",d.style.position="absolute",d.style.top="10000px",document.body.appendChild(d);var e=_.deepExtend({},b._opts);_.deepExtend(e,{graphs:{line:{lineWidth:1,strokeStyle:"#ececec"},node:{enabled:!1},fill:{alpha:.5,fillStyle:"#ececec"},animation:!1},dataZoom:null});var f=new m(d,b._data,e);f.draw(),b._dataZoom=new k(c,f._graphs);var g=f._graphs.sprite;g.id=g.id+"_datazoomthumbLinebg",g.context.x=0,g.context.y=b._dataZoom.h-b._dataZoom.barY,g.context.scaleY=b._dataZoom.barH/f._graphs.h,b._dataZoom.dataZoomBg.addChild(g),b.core.addChild(b._dataZoom.sprite),f.destroy(),d.parentNode.removeChild(d)},_initMarkPoint:function(a){var b=this;require(["chartx/components/markpoint/index"],function(c){_.each(a.data,function(d,e){var f=a._circles.children[e],g={value:d.value,markTarget:a.field,point:f.localToGlobal(),r:f.context.r+2,groupLen:a.data.length,iNode:e,iGroup:a._groupInd};b._opts.markPoint&&"circle"!=b._opts.markPoint.shapeType&&(g.point.y-=f.context.r+3),new c(b._opts,g).done(function(){b.core.addChild(this.sprite);var a=this;this.shape.hover(function(a){this.context.hr++,this.context.cursor="pointer",a.stopPropagation()},function(a){this.context.hr--,a.stopPropagation()}),this.shape.on("mousemove",function(a){a.stopPropagation()}),this.shape.on("tap click",function(c){c.stopPropagation(),c.eventInfo=a,b.fire("markpointclick",c)})})})})},_initMarkLine:function(a,b){var c=this,d=a._groupInd;_.clone(a._pointList);b||(b=c.dataFrame);var e=parseInt(b.yAxis.center[d].agPosition);require(["chartx/components/markline/index"],function(f){var g=a.field+"均值",h=a.line.strokeStyle;if(c.markLine.text&&c.markLine.text.enabled&&_.isFunction(c.markLine.text.format)){var i={iGroup:d,value:b.yAxis.center[d].agValue};g=c.markLine.text.format(i)}var i={w:c._xAxis.xGraphsWidth,h:c._yAxis.yGraphsHeight,origin:{x:c._back.pos.x,y:c._back.pos.y},line:{y:e,list:[[0,0],[c._xAxis.xGraphsWidth,0]],strokeStyle:h},text:{content:g,fillStyle:h},field:a.field};new f(_.deepExtend(i,c._opts.markLine)).done(function(){c.core.addChild(this.sprite)})})},bindEvent:function(a,b){var c=this;b||(b=c._setXaxisYaxisToTipsInfo),a.on("panstart mouseover",function(a){c._tip.enabled&&a.eventInfo.nodesInfoList.length>0&&(c._tip.hide(a),b.apply(c,[a]),c._tip.show(a))}),a.on("panmove mousemove",function(a){c._tip.enabled&&(a.eventInfo.nodesInfoList.length>0?(b.apply(c,[a]),c._tip._isShow?c._tip.move(a):c._tip.show(a)):c._tip._isShow&&c._tip.hide(a))}),a.on("panend mouseout",function(a){c._tip.enabled&&c._tip.hide(a)}),a.on("tap",function(a){c._tip.enabled&&a.eventInfo.nodesInfoList.length>0&&(c._tip.hide(a),b.apply(c,[a]),c._tip.show(a))}),a.on("click",function(a){b.apply(c,[a]),c.fire("click",a.eventInfo)})},_setXaxisYaxisToTipsInfo:function(a){a.eventInfo.xAxis={field:this.dataFrame.xAxis.field,value:this.dataFrame.xAxis.org[0][a.eventInfo.iNode]}},_trimGraphs:function(a,b){function c(b,d,g,h,i){for(var j=0,k=b.length;k>j;j++){var l=[];g.push(l);var m=d[j];if(i&&e.biaxial&&j>0&&(a=e._yAxisR,f=a.dataSection[a.dataSection.length-1]),_.isArray(b[j])){var n=[];h.push(n),c(b[j],m,l,n)}else{var o=0;h[j]={};for(var p=0,q=m.length;q>p&&!(p>=e._xAxis.data.length);p++){var r=e._xAxis.data[p].x,s=-(m[p]-a._bottomNumber)/(f-a._bottomNumber)*a.yGraphsHeight;s=isNaN(s)?0:s,l[p]={value:m[p],x:r,y:s},o+=m[p]}h[j].agValue=o/q,h[j].agPosition=-(h[j].agValue-a._bottomNumber)/(f-a._bottomNumber)*a.yGraphsHeight}}}function d(a){return e._lineField?e._lineField:(e.type&&e.type.indexOf("line")>=0?e._lineField=e._lineChart.dataFrame.yAxis.field:e._lineField=e.dataFrame.yAxis.field,e._lineField)}a||(a=this._yAxis),b||(b=this.dataFrame);var e=this,f=a.dataSection[a.dataSection.length-1],g=b.yAxis.org,h=[],i=[];return c(d(),g,h,i,!0),b.yAxis.center=i,h},_getPosAtGraphs:function(a,b){var c=this._xAxis.data[a].x,d=this._graphs.data[0][a].y;return{x:c,y:d}},_getGraphsDisX:function(){var a=this._xAxis.dataSection.length,b=this._xAxis.xGraphsWidth/(a-1);return 1==a&&(b=0),b}});return m});